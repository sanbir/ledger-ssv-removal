import ethers from "ethers";
import Eth, { ledgerService } from "@ledgerhq/hw-app-eth";
import WebUsbTransport from "@ledgerhq/hw-transport-webusb";

async function main() {
    const ethersTx: ethers.Transaction = {
        to: "0xDD9BC35aE942eF0cFa76930954a156B3fF30a4E1",
        value: ethers.BigNumber.from(0),
        data: "0x5aed114200000000000000000000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000002c00000000000000000000000000000000000000000000000000000000000000005600000000000000000000000000000000000000000000000000000011a621522900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000c4b4d87c4eb7b48000000000000000000000000000000000000000000000000000000000000000560000000000000000000000000000000000000000000000000000000000000ac00000000000000000000000000000000000000000000000000000000000000b200000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000be00000000000000000000000000000000000000000000000000000000000000c400000000000000000000000000000000000000000000000000000000000000ca00000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000d600000000000000000000000000000000000000000000000000000000000000dc00000000000000000000000000000000000000000000000000000000000000e200000000000000000000000000000000000000000000000000000000000000e800000000000000000000000000000000000000000000000000000000000000ee00000000000000000000000000000000000000000000000000000000000000f400000000000000000000000000000000000000000000000000000000000000fa00000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000106000000000000000000000000000000000000000000000000000000000000010c00000000000000000000000000000000000000000000000000000000000001120000000000000000000000000000000000000000000000000000000000000118000000000000000000000000000000000000000000000000000000000000011e0000000000000000000000000000000000000000000000000000000000000124000000000000000000000000000000000000000000000000000000000000012a00000000000000000000000000000000000000000000000000000000000001300000000000000000000000000000000000000000000000000000000000000136000000000000000000000000000000000000000000000000000000000000013c00000000000000000000000000000000000000000000000000000000000001420000000000000000000000000000000000000000000000000000000000000148000000000000000000000000000000000000000000000000000000000000014e0000000000000000000000000000000000000000000000000000000000000154000000000000000000000000000000000000000000000000000000000000015a00000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000166000000000000000000000000000000000000000000000000000000000000016c00000000000000000000000000000000000000000000000000000000000001720000000000000000000000000000000000000000000000000000000000000178000000000000000000000000000000000000000000000000000000000000017e0000000000000000000000000000000000000000000000000000000000000184000000000000000000000000000000000000000000000000000000000000018a00000000000000000000000000000000000000000000000000000000000001900000000000000000000000000000000000000000000000000000000000000196000000000000000000000000000000000000000000000000000000000000019c00000000000000000000000000000000000000000000000000000000000001a200000000000000000000000000000000000000000000000000000000000001a800000000000000000000000000000000000000000000000000000000000001ae00000000000000000000000000000000000000000000000000000000000001b400000000000000000000000000000000000000000000000000000000000001ba00000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000001c600000000000000000000000000000000000000000000000000000000000001cc00000000000000000000000000000000000000000000000000000000000001d200000000000000000000000000000000000000000000000000000000000001d800000000000000000000000000000000000000000000000000000000000001de00000000000000000000000000000000000000000000000000000000000001e400000000000000000000000000000000000000000000000000000000000001ea00000000000000000000000000000000000000000000000000000000000001f000000000000000000000000000000000000000000000000000000000000001f600000000000000000000000000000000000000000000000000000000000001fc00000000000000000000000000000000000000000000000000000000000002020000000000000000000000000000000000000000000000000000000000000208000000000000000000000000000000000000000000000000000000000000020e0000000000000000000000000000000000000000000000000000000000000214000000000000000000000000000000000000000000000000000000000000021a00000000000000000000000000000000000000000000000000000000000002200000000000000000000000000000000000000000000000000000000000000226000000000000000000000000000000000000000000000000000000000000022c00000000000000000000000000000000000000000000000000000000000002320000000000000000000000000000000000000000000000000000000000000238000000000000000000000000000000000000000000000000000000000000023e0000000000000000000000000000000000000000000000000000000000000244000000000000000000000000000000000000000000000000000000000000024a00000000000000000000000000000000000000000000000000000000000002500000000000000000000000000000000000000000000000000000000000000256000000000000000000000000000000000000000000000000000000000000025c00000000000000000000000000000000000000000000000000000000000002620000000000000000000000000000000000000000000000000000000000000268000000000000000000000000000000000000000000000000000000000000026e0000000000000000000000000000000000000000000000000000000000000274000000000000000000000000000000000000000000000000000000000000027a00000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000286000000000000000000000000000000000000000000000000000000000000028c00000000000000000000000000000000000000000000000000000000000002920000000000000000000000000000000000000000000000000000000000000298000000000000000000000000000000000000000000000000000000000000029e00000000000000000000000000000000000000000000000000000000000002a400000000000000000000000000000000000000000000000000000000000002aa00000000000000000000000000000000000000000000000000000000000000030881636b67ef841cff7058ce42107cf18e719b10839109ca37c39d40573b868b3159d6a22147b0b6c08fe822158be9e28000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030abcb222b894f49a2c242d218d62b09012c3064b065784311487bca07f7a5f6a0d41b3fee0d9d4b7785b8150df46513850000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308129b788438307a34d02f443c7ffb8fdc5d06b48e0de04f1bcb0a3847e440bfa98de0d92fe3a88423284898f877c46570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308965a82cae30b046de73182fd89b77743f5f4fcf4eaf50a90ce77ad6406ba25358ac7aa36da790750bc21bd525732a83000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b71a24137a701dc4a728a8e5757dac6f74d8cae0eb4438ec5569056eeaa00991563277c0e5326c53d911158b79663c8a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b096ab9b91ad15ea6b332201a20ed4598f92b3cb54fd367d8686b19de7bc6382824daa9bef1ba8d858c6e01e5a6e9675000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030af3032081ad6a7d6309e55818e251016462a5a836182ba14af585f333ebe7386861bfa3b9a4b5f48f88309a09ac7578300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003083ce861b6f7d20d1db130817bf7810391ec95e921c1074a7014f50877c885a63479e7a3138201704956ea194fc97cc48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030879bf657ad7ae4fc92843fb8954eeeec6e04dd51753f1d6bba84f582d6d2980b565bb1b35ef814bfd654e073e856ea260000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308d3306739c31ae52e4068cd47d96b1b53085106b43dd71b317a18315129bc75cc47f3413e54469ef9ea0893b153ae62f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a92e95bcf8347f3b63a35567c69e44a721f52e700a599481adce5bb2dac41ad3a60e7af6276cd84c0e35df89c10bdcb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308fad7fae493c48707459fc3d87d1a9237d8193d0dfd87ed4b7d5c601b50b648457a01fbb13e36d67eb8fa3ae5ea55f7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003089b42b8e42c7632d5e1a582a066f323360a191e74b43383d97b351e2ea8f76478e03c57b74bfcb98260b4809d2c909540000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308398dcf6a6715df5d36e8c23ff4b283dfe955f0b6ab84458d0bee01ba0a8f458d225371278f1cc30b6510b3502c6cb6400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003087fd83e26b18e262cea708e3c17b6f009394e4a1906cc7bc2f886e59af8ed2d2a889470a58a9b9ff1c889c7af47f5526000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030acf53c7bee80d31f1d698830cb7d8cf2db1b515bd43f4abd0a1f102a290a99c825c2a1ef08ce021c37a2aa67b93aac79000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a497c03c16f1808c3c06a81dff2c153a027e97924984d22d40e648a7cb52957dd1c91660782c4dd9dc2814a163c5b827000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b1117aa408961ef2889d04bea5054f3244718ee4d574a0197de1345d4163de94eb981a8affc3e120a0753ccfd0002a4c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030ab8014bb2c0865398f4545ec32abe483a56c02b7f3dd0a436e1e42a6dea3322f21eb1a1b757e1af295966d5c35bb8bc5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a414e8bb270f2d43328dc3d7fa62f045339c4466d74b04ec131411ed0adcdf4da3e1173d76c786ca848864b0b9047512000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a50d7dd590fcb40ccbd83e3f4325c1a27615a84c9b6d9c07f3e1c6ac73981271131aefe6ed9dd4694fa15dbcf9fd0e9800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003096d9d4cc64b7ff8c47a347d406f754db1a66a0ef3ff478e6823f5660752fa312166cf390ebbb4957a281dd47f3bba0610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308a1c8d6981d32414e350edf70cc482408873c009b7b09ec3c0bf6045da75f95ef9288483bf102e66ccb73bc83bcce342000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030ab0f0c97b4a2031e59e6c5a5e6b302c8ee600c8c4a9646f4c551a1fc7539ce423943abc8bb5f3534c22c74d72b29194900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003090b80760afba0cdd972602241b2c707882dad5495a1900a00cc585a8e105d82226b53790f1d2e0ef20fa9084c15dbe7d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a3101e9d0029781480b6985242e2781987f302e149ec04ae92f4510f63fee1e5f43e782e2c9d36e3d7321fabc0c08c12000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b6e0ccd272ec7123a1f5b9f89a23ab5452909db85552455f7b6d5213c0e4b0796953f70af3e6d7f4fe280b969db6184100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003088f02e7b9e985289e42fe5562f4176b3351cf3b09359c69923ea43b1ca82fa733d206fb73e7ff60dea92e455b90ed1e2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030944f198bac25e214b7ced774a57c5e5bd0baaa9643c037191af8867ddc8efab6ad626121e2a9a837607211d9df6b4be1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a476cab24cf8482b6ece787f9360e1b1a94b57908387318df01efdb9234dac3fa3f4e2228086111b4df65f29270ec9a4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a8baff1ad5eebd838e6c4b4a86b79ce789782e0b5d90eb29602260394749f69c2d73d0b0249d31eafe96f3595ff197f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b51d0cfb4854028c1b53e03ed20275746691b87f4ad97a0a45c477b3d890e93f506fdb1a55d04e9f26f1036f7ff183d4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a0e505903189574fec77ad181ea431f82a389610b5865e67c3581e6c51af785f19e70def5e7cc036c96a26e5094af39f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a2d03f1decea95f0cbee2dd90266db1cd0b4c1f51d5334cc4f348d619394dc3555ea5e5df03b868509b7a01dead08e02000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a497815c68c05e0298b8dd3e0e64b8c779925a666918cd625edfe0b9cf50201e0d98785e28e8d116d6812ad30dfaff2e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003098981dcc86b449086de181eb606c387fba1671219daa9772b6d8b86597121fb893e1d9d930d6abdb7a89fb7faa0b74550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308907f865b16c65543c96341bf9bd68ef1cc8844f615913745f679a3e56a989d2bd56f545781a5f4b8c06d0d87c911c74000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030ac674bb909671450567142ab7f9d8d2ab6c8c97e0b997cfa2505f3a9707935adab7f2b7f945cc569d3b0e226870517080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308abd16fd76fbd946a81b9491c866a0940792d0c45fe4cdb91386ac409ba9dbc79fcbd94354db9f762d43d0cc12c3152200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003084d62624336d5acd0dafd0e37c92aa247da5dfb514fb9cea6bfe252660b38b5b041fd47d5f12ae0ba24076cdf8db2259000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030aea932c60fe076074126823c09403f2e5d73d34fa399513994f128c3d02d5fc214a5e52eacc8e62e3e5d74d97ecd914700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003094006903cdf9d7178ac29b2cbe68844871d9c61710ec198633d5cea5f1c1cfa5116bb890bf0274ab6226c88d2bb61f11000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030907e640486a423443577ed21d15f7ecd47ba46106a3034e143ef4995950387b9bb3dd49828b03b5ed0c82a084585fcaf00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003099e1083903520ebecbd1ac9eaedebb20cd2205718d1520dda78811716072e4407be590654023e1c1fe9683e1c53b6a230000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000309916724a89437575bac859eea5b07465ff35583b13298207584519fa6df18cb683e10fa304a30b64fde3bc7664294e6600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003096ee0f387d144cad4d45f049a75eb93a770309c28bc932d3ff4dc4ea277e16647b25adae3b9667f3d52026185ac90639000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030851c0dc53172e5e3c624067cedeb71930fe0b3367c081b219ebd1386b829cf8b5ee14c914e1b36ff9048e70e6f93e032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b36404277d4dddf512b4e4303eda6a90d6127e9cc731f94b5c55e3289d3b1e2fcf63bb206a973986a38baed9032564b4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a570b6ec6f3e1c760fe238386697cb6bdb1559f127cf15e858baf76c7a365c74361ab7764bd13a3b15a57476f82b786c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b8fb97e18be1b8c5f43840f05a4ad4cec52fc9612a3cb4b507e2225581f25e3d47a9258bbd0950e4654b9a0904f559c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b891f95f58a607b4d0b92f83b82fa96eb1a72b50c6985134cd51e5daa2f61c0625866c76ad46bd3ba55c5d4e732a5e2f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b9e12a643fc7ff635740d87355df3a8ba2903fa8a2c56db4e9c321edc6f336d31e907c038c1322cd0873d95a7b610cea000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a5ea03e0d527cece6ab4e9d5ae9b91812c59f51f5f2092fc5da84264af35946262a584544d1cdf6ae7434c84a40bb1210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308318448428d07eb805147898c3c7d761a2265a8a46494a7b0e327aa0c6e1745b3a338eb86b9a6650c7e349ef5179c95300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003082382f635185a3b770f6874bdf89e2349d4926a3aa4ac2bd355d814ae1579114f9732cc9510fb54f16bc7fcf080992f7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b69a50fa8ff313c4e567c3330be0fd90acfd3aa760e7754b2ca07b0b7d17e6e6eb0bca467a0aeb8885450f76454ded2c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000309613e58bfa371079ed87a9467b0127a4bc4ef045eeb5a121236d4b21341f8aea4a6b69c4ea3012434d49998fcd161d2700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003085e8a252fdeb2a6eadde89b9699870e85e20607dbd62a3a5fe14410af586e49d0c02cb11b6344fa6144fc4cda360106a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a8b994bf1a193c55a0373df21be62ffb82c7ea78fa3153438949b6e4deeb0042aaf31a30902f543279527154364dc821000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030962a9cd5e3b9520c0c697bffccc57f30386f87ca10d1ed8eb05d1b2fd3e868321a4287436a8941fdaf583c07b1804b99000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a6d4a45783fb36717e3532ee9d241b157d05311b9b98b72e9305f515079ea34599d74508fd7cd65676b17ba1ba1d48a1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030993694bb47068b65af2f4ec0c473fc47d8b2df7cdd107c6f131de24e983020ff548458d9a8a73ce443b428caf1c75c57000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a62a1455bc1538663ed159cbf8c0d3c6fa68e8bb682b29007a71030c844596fe8985d9608f3fd4a6a5d7f55e0cbc711000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003087cea1d98a46f18c9bc8a234c1808571c655a4f0aa7dd8a66182b21e965cff2bff14e70bf3ee67dca65944c536773865000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030ac01e521015dc216464a0d347b1b32849d523b1591010c501f2fc5aeaf8083979a5ba4432f21d76c284229c8de7dde7100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003095cc9c550f7cea9c3029a4220149af8905f674d49e44511d3ddc2669e6c12b987149b8bfa726f8fd516aad3684bf5e5f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003089af5d04efbb55081087b7e83e78327087824b273129d426d8c1786d5d09c3a688887f2494e6965dee1567206adb1cef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308da5efb8b523deb6a39edfdcaedf1f6422a1c13aed692dde97a9638318b77f461399eb6308bd9ef6c1d0cb012238b4a2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030930ecd180d532072eaedd726a34b62242c0411a1addb7dd3dc9511792e9cfcbe75a4a60e7bb951f357789b3b23bfb743000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a979fb55fdbbd31f729fdaa66506296c9b719cdc594dfad1d7855069036bc72f86916d3507cd56bcb96bab3c3c2e95fe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000309700032e0bdfcede0e6af0b3a94979bca8573727f1227ccc9c8002439ccd13624fba7e827a00cf61e062b6b1ccf42c9800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003093b176a72ecda8fc20d1d03a1e0f70e87cf8302a3ba9d26d18c19b66aeaa27a6fda0a06f770a8ae01068a40f14ce8d8a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030826514c729fb2c5f4e2c4a9f5afb4d3e8cc59c3b8845a68ca4a32d10151f5cdfd23af3367ca945452b6598c8a51737cd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030939457f819e5d89d9f27b9aa4af8c80fdcf58a25dc9b6f246b69b35f10c887ff9852281d2e1410427e58f734ee4551c4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030adce236ce70085337b43d30fe074d642550b23114f2f013c39f79ac36009d556eb519a6a2a196de9c9b8e6436ffb2647000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030aa1e8966f4da910e54fd96c3d4a457ac246619d67db3651cc6f6c49fce2e3867e1ae0927a61bd35ec3a1bff073a66774000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030ac15e1a93688081492415e28cd89c6677b0017c1216002cbd653f3403fcc7ffdeb8ac29f57619d834f5bf68a09ca312c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b4a26bb8990356fee84dd74d0fd3cdb184002aba34df4536802050cb5a83f7c188ad48307fe360458dd5a63c6aba2ebb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b7cae65c4032c244053cab33946c96614e065a6541f95bd3999f171ec5630390c7b8d5e50c551d38edec542bd22d436800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003084353c3a34ed6629a857e82f7af73a1936799eb77e5dfb256f2fc71c02757e374e1619c8047128f1d8590f6986ffdd12000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030a3efa8356636fcf1638922a082875abe782e8ab3dba0615e5bad312a09eaed491f8cbb21ae12196f4b41f5103a7dc28f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000308b7742e391c3724bf2ce5aaf9c0c379784566acbff78321200e95789c115b17203235067fd6c51d0e5288c0d67b516d400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003088e6c0da23180fff9cc403fb943d6d9d8b412723488c14e57e81323f6e10023ea60b0e144a7764746551a1c897b3bbc5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b9087e855810e300362b90328d21a01dfb245f158e4245f038882f198f7cd460fec3374df8b9c9951b5eebe907e75846000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b987134cd413295bfa83cb642d8d1ab107d91f6182f22f6b3eb52d3585c08981917caa4f0de068d37016a11647332e54000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030b6ad2cbeb5a49e4d0bb64c36a1de59bf23bc8f9406a337e120f5d530fc494c097d775dcdfdf2c143db6bf4058b879a1400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000001ac00000000000000000000000000000000000000000000000000000000000001b000000000000000000000000000000000000000000000000000000000000001b400000000000000000000000000000000000000000000000000000000000001b8",
        gasLimit: ethers.BigNumber.from(10000000),
        maxFeePerGas: ethers.BigNumber.from(20000000000),
        maxPriorityFeePerGas: ethers.BigNumber.from(1000000000),
        nonce: 1,
        chainId: 1,
        type: 0,
    };

// Get the serialized transaction as an hex string
    const serializedTxHexString = ethers.utils.serializeTransaction(ethersTx).slice(2); // Remove 0x prefix

// Instanciate whatever transport you want to use
    const transport = await WebUsbTransport.create();
// Instanciate Eth app bindings
    const eth = new Eth(transport);

// Look for resolutions for external plugins and ERC20
    const resolution = await ledgerService.resolveTransaction(
        serializedTxHexString,
        eth.loadConfig,
        {
            externalPlugins: true,
            erc20: true,
            nft: true,
        }
    );

// Request signature on the Ledger device
    const signature = await eth.signTransaction(
        "44'/60'/0'/0",
        serializedTxHexString,
        resolution
    );
}

main().catch((error) => {
    console.error(error)
    process.exitCode = 1
})

